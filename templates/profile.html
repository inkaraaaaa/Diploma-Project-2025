<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InternGO - Company</title>
    <link rel="stylesheet" href="/static/css/variable.css">
    <link rel="stylesheet" href="/static/css/profile.css">
    <style>
        .cont {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .headir {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .logo {
            width: 120px;
            height: 120px;
        }
        .sections {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        .section {
            flex: 1;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 8px;
        }
        .title {
            font-size: 18px;
            font-weight: bold;
        }
        .reviews-container {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-top: 30px;
    }
    
    .reviews {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .review-card {
        display: flex;
        align-items: flex-start;
        background: #f9f9f9;
        padding: 15px;
        border-radius: 8px;
    }

    .user-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 15px;
    }

    .user-avatarcom {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        object-fit: cover;
    }

    .review-content {
        flex: 1;
    }

    .user-name {
        font-weight: bold;
    }

    .stars {
        display: flex;
        gap: 3px;
        margin: 5px 0;
    }

    .stars img {
        width: 18px;
        height: 18px;
    }

    .review-text {
        color: #555;
    }

    .comment-box {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 15px;
        border-top: 1px solid #ddd;
        border-radius: 10px;
        padding: 10px;
    }

    
.comment-content {
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* Увеличивает ширину */
}

.rating {
    display: flex;
    gap: 5px;
    margin-bottom: 8px; /* Отступ между звездами и полем ввода */
}

    .comment-box input {
        flex: 1;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 10px;
    }
    #comment-input{
        width: 100%;
        flex-grow: 1;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-size: 14px;
    }

    .star {
    width: 25px;
    height: 25px;
    cursor: pointer;
}

    .send-button {
        background: #6c5ce7;
        color: white;
        border: none;
        padding: 8px 12px;
        margin-left: 10px;
        border-radius: 5px;
        cursor: pointer;
    }

    .send-button:hover {
        background: #4a3db8;
    }
    </style>
</head>
<body>
<script src="/profile/templates/script.js" defer></script>


<header>
    <div class="container header-container">
        <h1>InternGO</h1>
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Vacancies</a></li>
                <li><a href="#">FAQ</a></li>
                <li><a href="#">Logout</a></li>
                <li>
                    <a href="#">
                        <img src="/static/icons/sign_up.png" alt="User Icon" width="40" height="40">
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>

<main>
    <div class="cont">
        <div class="headir">
            <img src="/media/{{ company.logo }}" alt="{{ company.name }} Logo"class="logo">
            <div>
                <h1 style="color: #1e1e1e; font-family: Gilroy-SemiBold; font-size: 36px;">
                    {{ company.name }}
                </h1>
                <p style="color: #757575; font-family: Gilroy-SemiBold; font-size: 20px;">
                    {{ company.city }}
                </p>
            </div>
        </div>
        
        <p style="font-family: Gilroy-SemiBold; font-size: 32px;">
            Find out more about career opportunities at {{ company.name }} and share your thoughts with us!
        </p>
        
        <div class="sections">
            <div class="section">
                <p class="title" style="font-family: Gilroy-SemiBold; font-size: 36px;">Overview:</p>
                <p style="font-family: Gilroy-SemiBold; font-size: 24px;">
                    {{ company.overview }}
                </p>
            </div>
            <div class="section">
                <p class="title" style="font-family: Gilroy-SemiBold; font-size: 32px;">Partnership:</p>
                <p style="font-family: Gilroy-SemiBold; font-size: 24px;">
                    {{ company.partnership }}
                </p>
            </div>
        </div>
        
        <section class="reviews-container">
            <h2>Reviews</h2>
            <div class="reviews">
                <div class="review-card">
                    <img src="/static/images/user1.jpeg" alt="User1" class="user-avatar">
                    <div class="review-content">
                        <p class="user-name">askarilyasov • Data Analyst</p>
                        <div class="stars">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star-empty.svg" alt="empty star">
                        </div>
                        <p class="review-text">
                            Great experience! I had access to real financial data, worked on predictive models, and improved my analytical skills. The mentorship was outstanding!
                        </p>
                    </div>
                </div>
        
                <div class="review-card">
                    <img src="/static/images/user2.jpeg" alt="User2" class="user-avatar">
                    <div class="review-content">
                        <p class="user-name">satalma • Back-End Developer</p>
                        <div class="stars">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star-empty.svg" alt="empty star">
                            <img src="/static/icons/star-empty.svg" alt="empty star">
                        </div>
                        <p class="review-text">
                            Good learning environment with modern tech stacks. Sometimes tasks were repetitive, but overall, it helped me grow as a developer.
                        </p>
                    </div>
                </div>
        
                <div class="review-card">
                    <img src="/static/images/avatar.jpeg" alt="User3" class="user-avatar">
                    <div class="review-content">
                        <p class="user-name">ayanab • UI/UX Designer</p>
                        <div class="stars">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                            <img src="/static/icons/star.svg" alt="star">
                        </div>
                        <p class="review-text">
                            Loved working on real projects with an amazing team! The feedback and guidance helped me sharpen my design thinking.
                        </p>
                    </div>
                </div>
            </div>
        
            <div class="comment-box">
                <img src="/static/images/default_avatar.jpg" alt="User Avatar" class="user-avatarcom" id="user-avatar">
                <div class="rating">
                    <img src="/static/icons/star-empty.svg" class="star" data-value="1" alt="star">
                    <img src="/static/icons/star-empty.svg" class="star" data-value="2" alt="star">
                    <img src="/static/icons/star-empty.svg" class="star" data-value="3" alt="star">
                    <img src="/static/icons/star-empty.svg" class="star" data-value="4" alt="star">
                    <img src="/static/icons/star-empty.svg" class="star" data-value="5" alt="star">
                </div>
                <input type="text" id="comment-input" placeholder="Add a comment...">
                <button class="send-button" id="send-comment">Send</button>
            </div>
        </section>
    </div>
</main>


<footer>

    <div class="container footer-container">
        <div class="footer-info">
            <h2>InternGO</h2>
            <p>InternGO - It is a platform for helping students.</p>
        </div>
        <div class="footer-links">
            <h3>How it works</h3>
            <p>Students</p>
            <p>Companies</p>
            <p>Career Center</p>
        </div>
        <div class="footer-links">
            <h3>Platform</h3>
            <p>Vacancies</p>
            <p>Search</p>
            <p>Profile</p>
        </div>
        <div class="footer-contact">
            <h3>Support</h3>
            <p>Call-center: <a href="tel:87470777777">8-747-077-77-77</a></p>
            <p>Email: <a href="mailto:support@stu.sdu.edu.kz">support@stu.sdu.edu.kz</a></p>
            <p>Address: Almaty, Kaskelen, Abylaikhan 1/1</p>
        </div>
    </div>

</footer>

<script>
    document.addEventListener("DOMContentLoaded", () => {
    const username = "{{ request.user.username }}";  // Получаем имя пользователя
    const position = "{{ request.user.position }}";  // Получаем должность пользователя
    const stars = document.querySelectorAll(".star");
    const commentInput = document.getElementById("comment-input");
    const sendButton = document.getElementById("send-comment");
    const reviewsContainer = document.querySelector(".reviews");
    let selectedRating = 0;

    // Выбор звездочек (SVG)
    stars.forEach(star => {
        star.addEventListener("click", () => {
            selectedRating = star.getAttribute("data-value");
            stars.forEach((s, index) => {
                s.src = index < selectedRating ? "/static/icons/star.svg" : "/static/icons/star-empty.svg";
            });
        });
    });

    // Добавление комментария
    sendButton.addEventListener("click", () => {
        const commentText = commentInput.value.trim();
        if (commentText === "" || selectedRating === 0) {
            alert("Please enter a comment and select a rating.");
            return;
        }

        // Создаем новый отзыв
        const newReview = document.createElement("div");
        newReview.classList.add("review-card");
        newReview.innerHTML = `
            <img src="/static/images/default_avatar.jpg" alt="User Avatar" class="user-avatar">
            <div class="review-content">
                <p class="user-name">${username || "Anonymous"} ${position ? " • " + position : ""}</p>
                <div class="stars">
                    ${'<img src="/static/icons/star.svg" alt="star">'.repeat(selectedRating)}
                    ${'<img src="/static/icons/star-empty.svg" alt="empty star">'.repeat(5 - selectedRating)}
                </div>
                <p class="review-text">${commentText}</p>
            </div>
        `;

        // Добавляем отзыв в список
        reviewsContainer.prepend(newReview);

        // Очистка формы
        commentInput.value = "";
        selectedRating = 0;
        stars.forEach(s => s.src = "/static/icons/star-empty.svg");
    });
});

</script>

</body>
</html>